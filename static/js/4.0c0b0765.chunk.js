(this.webpackJsonpcrypo=this.webpackJsonpcrypo||[]).push([[4],{1010:function(e,t,a){"use strict";a.r(t);a(6);var r=a(4),n=a(1),c=a(37),o=a(18),i=a.n(o),d=a(43),s=(a(948),a(952)),l=a(57),u=a(45),b=a(72),j=a(480),h=(a(406),a(375),a(0)),O={cityDestinationList:"Destination City",cityOriginList:"City of Origin",exporterList:"Exporter List",hsCode4DigitList:"HS Code (4 Digit)",hsCodeList:"HS Code (8 Digit)",importerList:"Importer List",portDestinationList:"Destination Port",portOriginList:"Port of Origin",searchValue:"Search Value"};t.default=Object(d.i)(Object(b.b)((function(e){return{loading:e.loader.loading,download_count:e.data.download_count,subscriptionId:e.data.subscriptionId,dataAccess_count:e.data.dataAccess_count,totalWorkspace:e.data.totalWorkspace,subUserCount:e.data.subUserCount,queryPerDay:e.data.queryPerDay}}),(function(e){return{loadingStart:function(){return e(Object(l.a)())},loadingStop:function(){return e(Object(l.b)())},updateSubscriptionCount:function(t){return e(Object(u.h)(t))}}}))((function(e){Object(d.g)();var t=localStorage.getItem("userToken"),a=localStorage.getItem("user");a=a?JSON.parse(a):{};var o=Object(n.useState)([]),l=Object(r.a)(o,2),u=l[0],b=l[1],m=Object(n.useState)([]),p=Object(r.a)(m,2),y=(p[0],p[1]),S=Object(n.useState)(void 0),f=Object(r.a)(S,2),g=f[0],x=f[1],w=Object(n.useState)(void 0),D=Object(r.a)(w,2),C=D[0],v=D[1],T=Object(n.useState)([]),F=Object(r.a)(T,2),L=(F[0],F[1],Object(n.useState)("")),H=Object(r.a)(L,2),Y=(H[0],H[1],Object(n.useState)([])),N=Object(r.a)(Y,2),Q=N[0];N[1];Object(n.useEffect)((function(){!function(){var r;r=a&&0==a.uplineId?"uplineId":"userId",e.loadingStart(),Object(c.a)({method:"GET",url:"search-management/search/listAll?".concat(r,"=").concat(t,"&isDownloaded=Y")}).then((function(t){var a=[];t.data.queryList&&t.data.queryList.length>0&&t.data.queryList.map((function(e,t){var r={};Object.keys(e).map((function(t,a){"userSearchQuery"!=t?r[t]=e[t]:Object.keys(e.userSearchQuery).map((function(t,a){r[t]=e.userSearchQuery[t],r.querySting=O?Object.keys(O).map((function(t,a){return"queryBuilder"==t&&e.userSearchQuery[t]?e.userSearchQuery[t].map((function(e,a){return"<b>".concat(O[t]+(a+1),"</b>")+" : "+"<b>".concat(O.relation,"</b>")+" : "+e.relation+" ,&nbsp "+"<b>".concat(O.searchBy,"</b>")+" : "+e.searchBy+" ,&nbsp "+"<b>".concat(O.searchValue,"</b>")+" : "+e.searchValue})):""!=e.userSearchQuery[t]&&null!=e.userSearchQuery[t]?"<b>&nbsp;".concat(O[t],"</b>")+" : "+e.userSearchQuery[t]:null})):null}))})),a.push(r)})),console.log("tempQueryList [======= ",a),b(a),y(a),e.loadingStop()})).catch((function(t){console.log("Err",t),e.loadingStop()}))}()}),[]);var I={sortName:g,sortOrder:C,onSortChange:function(e,t){x(e),v(t)}};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-md-12 list-page mt-3",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(h.jsx)("div",{className:"card",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h4",{className:"card-title",children:"Download History"}),Object(h.jsx)("div",{children:Object(h.jsxs)(s.BootstrapTable,{data:u,striped:!0,hover:!0,pagination:!0,search:!0,options:I,children:[Object(h.jsx)(s.TableHeaderColumn,{width:"70",isKey:!0,dataField:"id",dataFormat:function(e,t,a,r){return Object(h.jsx)("div",{children:r+1})},children:"Sl No"}),Object(h.jsx)(s.TableHeaderColumn,{width:"100",dataField:"searchType",dataSort:!0,children:"Search Type"}),Object(h.jsx)(s.TableHeaderColumn,{width:"400",dataField:"querySting",dataFormat:function(e,t,a,r){return e.filter((function(e){return null!==e}))},children:"Query"}),Object(h.jsx)(s.TableHeaderColumn,{width:"100",dataField:"tradeType",dataSort:!0,children:"Trade Type"}),Object(h.jsx)(s.TableHeaderColumn,{width:"100",dataField:"countryCode",dataSort:!0,children:"Country"}),Object(h.jsx)(s.TableHeaderColumn,{width:"150",dataField:"userSearchQuery",dataFormat:function(e,t){return i()(t.fromDate).format("MMM. DD, YYYY")+"-"+i()(t.toDate).format("MMM. DD, YYYY")},dataSort:!0,children:"Period"}),Object(h.jsx)(s.TableHeaderColumn,{width:"100",dataField:"totalRecords",dataSort:!0,children:"Total Records"}),a&&0==a.uplineId?Object(h.jsx)(s.TableHeaderColumn,{width:"200",dataField:"downloadedByName",dataFormat:function(e,t){return e+" [ "+t.downloadedByEmail+" ]"},dataSort:!0,children:"Download By"}):null,Object(h.jsx)(s.TableHeaderColumn,{width:"200",dataField:"userSearchQuery",dataFormat:function(e,t){return i()(t.downloadedDate).format("MMM. DD, YYYY, h:mm:ss a")},dataSort:!0,children:"Download On"}),Object(h.jsx)(s.TableHeaderColumn,{width:"100",dataField:"recordsDownloaded",dataSort:!0,children:"Records"})]})})]})})})})})}),Object(h.jsx)("div",{id:"reportXLS",hidden:!0,children:Q&&Q.length>0?Object(h.jsx)(j.a,{filteredArray:Q}):null})]})})})))},948:function(e,t,a){"use strict";a.p}}]);
//# sourceMappingURL=4.0c0b0765.chunk.js.map